(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{3941:(e,t,a)=>{let{Solar:n,Lunar:l,Foto:r,Tao:s,NineStar:i,EightChar:o,SolarWeek:c,SolarMonth:u,SolarSeason:h,SolarHalfYear:p,SolarYear:m,LunarMonth:d,LunarYear:x,LunarTime:g,ShouXingUtil:j,SolarUtil:f,LunarUtil:w,FotoUtil:v,TaoUtil:y,HolidayUtil:b,NineStarUtil:N,I18n:S}=a(4813);e.exports={Solar:n,Lunar:l,Foto:r,Tao:s,NineStar:i,EightChar:o,SolarWeek:c,SolarMonth:u,SolarSeason:h,SolarHalfYear:p,SolarYear:m,LunarMonth:d,LunarYear:x,LunarTime:g,ShouXingUtil:j,SolarUtil:f,LunarUtil:w,FotoUtil:v,TaoUtil:y,HolidayUtil:b,NineStarUtil:N,I18n:S}},7276:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(6993)}])},6993:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var n=a(4848),l=a(6540),r=a(6715),s=a(3941);function i(){let[e,t]=(0,l.useState)(""),[a,i]=(0,l.useState)(""),[o,c]=(0,l.useState)(!1),u=(0,r.useRouter)(),h={木:["甲","乙","寅","卯"],火:["丙","丁","巳","午"],土:["戊","己","丑","辰","未","戌"],金:["庚","辛","申","酉"],水:["壬","癸","子","亥"]};function p(e){return Object.keys(h).find(t=>h[t].includes(e))||"未知"}let m={甲:["甲子","乙丑","丙寅","丁卯","戊辰","己巳","庚午","辛未","壬申","癸酉","甲戌","乙亥"],乙:["丙子","丁丑","戊寅","己卯","庚辰","辛巳","壬午","癸未","甲申","乙酉","丙戌","丁亥"],丙:["戊子","己丑","庚寅","辛卯","壬辰","癸巳","甲午","乙未","丙申","丁酉","戊戌","己亥"],丁:["庚子","辛丑","壬寅","癸卯","甲辰","乙巳","丙午","丁未","戊申","己酉","庚戌","辛亥"],戊:["壬子","癸丑","甲寅","乙卯","丙辰","丁巳","戊午","己未","庚申","辛酉","壬戌","癸亥"],己:["甲子","乙丑","丙寅","丁卯","戊辰","己巳","庚午","辛未","壬申","癸酉","甲戌","乙亥"],庚:["丙子","丁丑","戊寅","己卯","庚辰","辛巳","壬午","癸未","甲申","乙酉","丙戌","丁亥"],辛:["戊子","己丑","庚寅","辛卯","壬辰","癸巳","甲午","乙未","丙申","丁酉","戊戌","己亥"],壬:["庚子","辛丑","壬寅","癸卯","甲辰","乙巳","丙午","丁未","戊申","己酉","庚戌","辛亥"],癸:["壬子","癸丑","甲寅","乙卯","丙辰","丁巳","戊午","己未","庚申","辛酉","壬戌","癸亥"]},d=async t=>{t.preventDefault(),c(!0);try{if(!e||!a){alert("请输入完整的出生日期和时间"),c(!1);return}let[t,n,l]=e.split("-").map(Number),r=s.Solar.fromYmd(t,n,l),i=s.Lunar.fromSolar(r),o=i.getEightChar(),h=i.getYearShengXiao(),d=o.getDayGan(),x=function(e,t){var a;let n=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"].indexOf(t.replace("时",""));return -1===n?"未知":(null===(a=m[e])||void 0===a?void 0:a[n])||"未知"}(d,a),g={金:0,木:0,水:0,火:0,土:0},j=[{gan:o.getYearGan(),zhi:o.getYearZhi()},{gan:o.getMonthGan(),zhi:o.getMonthZhi()},{gan:o.getDayGan(),zhi:o.getDayZhi()},{gan:x.charAt(0),zhi:x.charAt(1)}];j.forEach(e=>{let{gan:t,zhi:a}=e;g[p(t)]++,g[p(a)]++});let f=Object.entries(g).map(e=>{let[t,a]=e;return"".concat(a,"个").concat(t)}).join("，"),w=Object.entries(g).filter(e=>{let[t,a]=e;return 0===a}).map(e=>{let[t]=e;return t}).join("、");u.push({pathname:"/result",query:{lunarYear:o.getYear(),lunarMonth:o.getMonth(),lunarDay:o.getDay(),lunarTime:x,zodiac:h,elementSummary:f,missingElementMessage:w?"您的五行缺".concat(w):"您的八字五行皆全，五行不缺。",fiveElements:j.map(e=>{let{gan:t,zhi:a}=e;return"".concat(p(t)).concat(p(a))}).join(" | ")}})}catch(e){console.error("Error calculating Bazi:",e),alert("计算失败，请检查输入格式")}c(!1)};return(0,n.jsx)("div",{className:"bg-custom min-h-screen flex flex-col items-center justify-center px-4",children:(0,n.jsxs)("div",{className:"w-full max-w-[420px] mx-auto",children:[(0,n.jsx)("img",{src:"/images/bosch-logo.svg",className:"absolute top-6 left-6 w-20 h-auto",alt:"Bosch Logo"}),(0,n.jsx)("img",{src:"/images/header.png",className:"w-full h-auto px-4 mb-12"}),(0,n.jsxs)("form",{onSubmit:d,className:"w-full max-w-sm px-2 space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center bg-white rounded-[12px] px-4 py-3 relative w-full",children:[(0,n.jsx)("span",{className:"text-black font-bold whitespace-nowrap",children:"出生日期"}),(0,n.jsx)("span",{className:"mx-2 h-6 w-[1px] bg-gray-400"})," ",(0,n.jsxs)("div",{className:"flex items-center justify-between w-full cursor-pointer px-2",onClick:()=>document.getElementById("customDateInput").showPicker(),children:[(0,n.jsx)("span",{className:"text-gray-800",children:e||"请选择日期"}),(0,n.jsx)("img",{src:"/images/dropdown-icon.svg",alt:"Dropdown Arrow",className:"absolute right-4 h-2 w-2 text-gray-500"})]}),(0,n.jsx)("input",{id:"customDateInput",type:"date",lang:"zh-CN",value:e,onChange:e=>t(e.target.value),required:!0,className:"absolute opacity-0 inset-0 w-0 h-0"})]}),(0,n.jsxs)("div",{className:"flex items-center bg-white rounded-[12px] px-4 py-3 relative w-full",children:[(0,n.jsx)("span",{className:"text-black font-bold whitespace-nowrap",children:"出生时辰"}),(0,n.jsx)("span",{className:"mx-2 h-6 w-[1px] bg-gray-400"}),(0,n.jsxs)("div",{className:"flex items-center justify-between w-full cursor-pointer px-2",onClick:()=>document.getElementById("customTimeInput").click(),children:[(0,n.jsx)("span",{className:"text-gray-800",children:a||"请选择时辰"}),(0,n.jsx)("img",{src:"/images/dropdown-icon.svg",alt:"Dropdown Arrow",className:"absolute right-4 h-2 w-2 text-gray-500"})]}),(0,n.jsxs)("select",{id:"customTimeInput",value:a,onChange:e=>i(e.target.value),required:!0,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",children:[(0,n.jsx)("option",{value:"",children:"请选择出生时辰"}),(0,n.jsx)("option",{value:"子时",children:"子时 23:00-00:59"}),(0,n.jsx)("option",{value:"丑时",children:"丑时 01:00-02:59"}),(0,n.jsx)("option",{value:"寅时",children:"寅时 03:00-04:59"}),(0,n.jsx)("option",{value:"卯时",children:"卯时 05:00-06:59"}),(0,n.jsx)("option",{value:"辰时",children:"辰时 07:00-08:59"}),(0,n.jsx)("option",{value:"巳时",children:"巳时 09:00-10:59"}),(0,n.jsx)("option",{value:"午时",children:"午时 11:00-12:59"}),(0,n.jsx)("option",{value:"未时",children:"未时 13:00-14:59"}),(0,n.jsx)("option",{value:"申时",children:"申时 15:00-16:59"}),(0,n.jsx)("option",{value:"酉时",children:"酉时 17:00-18:59"}),(0,n.jsx)("option",{value:"戌时",children:"戌时 19:00-20:59"}),(0,n.jsx)("option",{value:"亥时",children:"亥时 21:00-22:59"})]})]}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)("button",{type:"submit",className:"w-45 max-w-[180px] bg-white/60 text-gray-800 font-bold py-1 rounded-full hover:bg-gray-400/60 transition duration-200 mt-12 mb-16",children:"提交生成结果"})})]})]})})}},6715:(e,t,a)=>{e.exports=a(8440)}},e=>{var t=t=>e(e.s=t);e.O(0,[963,636,593,792],()=>t(7276)),_N_E=e.O()}]);